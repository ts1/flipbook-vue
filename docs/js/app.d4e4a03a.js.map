{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?c0a3","webpack:///./src/Flipbook.vue?c689","webpack:///./src/App.vue?c890","webpack:///./src/Flipbook.vue?f40a","webpack:///./src/matrix.coffee","webpack:///./src/Flipbook.vue?b3c0","webpack:///./src/Flipbook.vue","webpack:///./src/App.vue?a950","webpack:///./src/App.vue?04f3","webpack:///./src/App.vue","webpack:///./src/main.coffee","webpack:///./src/Flipbook.vue?ed30","webpack:///./src/App.vue?3d2a","webpack:///./src/Flipbook.vue?aaa9","webpack:///./src/App.vue?f403","webpack:///./src/Flipbook.vue?ebc1"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","IE","easeIn","easeInOut","easeOut","Appvue_type_template_id_cc17d452_render","_vm","this","_h","$createElement","_c","_self","class","has-mouse","hasMouse","attrs","id","on","touchstart","$event","text","url","staticClass","pages","pagesHiRes","scopedSlots","_u","fn","flipbook","disabled","canFlipLeft","click","flipLeft","canZoomIn","zoomIn","canZoomOut","zoomOut","canFlipRight","flipRight","_m","staticRenderFns","_v","href","target","Flipbookvue_type_template_id_e4158224_scoped_true_render","onTouchStart","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","mousedown","onMouseDown","mousemove","onMouseMove","mouseup","onMouseUp","pointerdown","onPointerDown","pointermove","onPointerMove","pointerup","onPointerUp","pointercancel","_t","ref","zoom","zooming","style","transform","width","containerWidth","centerOffsetSmoothed","left","boundingLeft","top","yMargin","boundingRight","height","pageHeight","pageUrl","leftPage","pageWidth","xMargin","src","load","didLoadImage","_e","displayedPages","rightPage","viewWidth","_l","bgImage","lighting","bgPos","z","blank","backgroundImage","backgroundSize","polygonBgSize","backgroundPosition","polygonWidth","polygonHeight","zIndex","directives","rawName","expression","Flipbookvue_type_template_id_e4158224_scoped_true_staticRenderFns","matrix_coffee","Matrix","arg","classCallCheck","Array","isArray","toConsumableArray","rematrix_es","createClass","x","y","multiply","deg","concat","toString","Math","pow","test","navigator","userAgent","Flipbookvue_type_script_lang_coffee_","props","type","required","default","flipDuration","Number","zoomDuration","zooms","perspective","String","nPolygons","ambient","gloss","viewHeight","imageWidth","imageHeight","nPages","nImageLoad","nImageLoadTrigger","imageLoadCallback","currentPage","nZooms","zoomIndex","touchStartX","touchStartY","hasTouchEvents","hasPointerEvents","minX","maxX","preloadedImages","flip","progress","direction","frontImage","backImage","auto","currentCenterOffset","animatingCenter","computed","pageScale","scale","vw","xScale","yScale","round","w","ceil","polygonArray","makePolygonArray","centerOffset","retval","mounted","_this","addEventListener","onResize","passive","preloadImages","methods","$refs","viewport","clientWidth","clientHeight","page","hiRes","arguments","undefined","flipStart","face","ax","bgImg","dRadian","dRotate","gx","image","originRight","pageRotation","pageTransform","rad","radian","radius","results","rotate","tfString","theta","translate","rotateY","PI","sin","cos","translateZ","computeX","computeLighting","abs","rot","DEG","POW","blackness","diffuse","gradients","lightingPoints","specular","map","max","join","_this2","requestAnimationFrame","flipAuto","ease","_animate","duration","startRatio","t0","_this3","Date","now","ratio","onImageLoad","flipRevert","_animate2","_this4","trigger","cb","ev","path","naturalWidth","naturalHeight","zoomTo","containerFixedX","containerFixedY","_doZoom","end","endX","endY","fixedX","fixedY","start","startX","startY","_this5","scrollLeft","scrollTop","swipeStart","touch","pageX","pageY","swipeMove","swipeEnd","changedTouches","preventDefault","setPointerCapture","pointerId","error","releasePointerCapture","img","ref1","keys","Image","watch","_animate3","_this6","diff","rate","src_Flipbookvue_type_script_lang_coffee_","component","componentNormalizer","Flipbook","Appvue_type_script_lang_coffee_","components","LeftIcon","ChevronLeftCircle","RightIcon","ChevronRightCircle","PlusIcon","PlusCircle","MinusIcon","MinusCircle","Ribbon","ribbon_esm","src_Appvue_type_script_lang_coffee_","App_component","App","vue_runtime_esm","config","productionTip","render","h","$mount","content","locals","add","sourceMap","shadowMode","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Flipbook_vue_vue_type_style_index_0_id_e4158224_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Flipbook_vue_vue_type_style_index_0_id_e4158224_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.d4e4a03a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"1430\",\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n###! @license Flipbook.vue\nCopyright Â© 2019 Takeshi Sone.\nReleased under the MIT License (https://opensource.org/licenses/MIT).\n###\n\nimport Matrix from './matrix'\n\neaseIn = (x) -> Math.pow(x, 2)\neaseOut = (x) -> 1 - easeIn(1 - x)\neaseInOut = (x) ->\n  if (x < 0.5) then easeIn(x * 2) / 2 else 0.5 + easeOut((x - 0.5) * 2) / 2\n\nIE = /Trident/.test navigator.userAgent\n\nexport default\n  props:\n    pages:\n      type: Array\n      required: true\n    pagesHiRes:\n      type: Array\n      default: -> []\n    flipDuration:\n      type: Number\n      default: 1000\n    zoomDuration:\n      type: Number\n      default: 500\n    zooms:\n      type: Array\n      default: -> [1, 2, 4]\n    perspective:\n      type: String\n      default: '2400px'\n    nPolygons:\n      type: Number\n      default: 10\n    ambient:\n      type: Number\n      default: 0.4\n    gloss:\n      type: Number\n      default: 0.6\n\n  data: ->\n    viewWidth: 0\n    viewHeight: 0\n    imageWidth: null\n    imageHeight: null\n    nPages: @pages.length\n    displayedPages: 1\n    nImageLoad: 0\n    nImageLoadTrigger: 0\n    imageLoadCallback: null\n    currentPage: 0\n    leftPage: 0\n    rightPage: 1\n    nZooms: @zooms.length\n    zoomIndex: 0\n    zoom: @zooms[0]\n    zooming: false\n    touchStartX: null\n    touchStartY: null\n    hasTouchEvents: false\n    hasPointerEvents: false\n    containerWidth: '100%'\n    minX: Infinity\n    maxX: -Infinity\n    preloadedImages: {}\n    flip:\n      progress: 0\n      direction: null\n      frontImage: null\n      backImage: null\n      auto: false\n    currentCenterOffset: null\n    animatingCenter: false\n\n  computed:\n    canFlipLeft: ->\n      not @flip.direction and @currentPage >= @displayedPages and\n        not (@displayedPages == 1 and not @pageUrl(@leftPage - 1))\n    canFlipRight: ->\n      not @flip.direction and @currentPage < @nPages - @displayedPages\n    canZoomIn: -> not @zooming and @zoomIndex < @nZooms - 1\n    canZoomOut: -> not @zooming and @zoomIndex > 0\n    pageScale: ->\n      vw = @viewWidth / @displayedPages\n      xScale = vw / @imageWidth\n      yScale = @viewHeight / @imageHeight\n      scale = if xScale < yScale then xScale else yScale\n      if scale < 1 then scale else 1\n    pageWidth: -> Math.round(@imageWidth * @pageScale)\n    pageHeight: -> Math.round(@imageHeight * @pageScale)\n    xMargin: -> (@viewWidth - @pageWidth * @displayedPages) / 2\n    yMargin: -> (@viewHeight - @pageHeight) / 2\n    polygonWidth: ->\n      w = @pageWidth / @nPolygons\n      w = Math.ceil(w + 1 / @zoom)\n      w + 'px'\n    polygonHeight: -> @pageHeight + 'px'\n    polygonBgSize: -> \"#{@pageWidth}px #{@pageHeight}px\"\n    polygonArray: ->\n      @makePolygonArray('front').concat(@makePolygonArray('back'))\n    boundingLeft: ->\n      if @displayedPages == 1\n        @xMargin\n      else\n        x =\n          if @pageUrl(@leftPage)\n            @xMargin\n          else\n            @viewWidth / 2\n        if x < @minX then x else @minX\n    boundingRight: ->\n      if @displayedPages == 1\n        @viewWidth - @xMargin\n      else\n        x =\n          if @pageUrl(@rightPage)\n            @viewWidth - @xMargin\n          else\n            @viewWidth / 2\n        if x > @maxX then x else @maxX\n    centerOffset: ->\n      retval = Math.round(@viewWidth / 2 - (@boundingLeft + @boundingRight) / 2)\n      if @currentCenterOffset == null and @imageWidth != null\n        @currentCenterOffset = retval\n      retval\n    centerOffsetSmoothed: -> Math.round(@currentCenterOffset)\n\n  mounted: ->\n    window.addEventListener 'resize', (=> @onResize()), passive: true\n    @onResize()\n    @preloadImages()\n\n  methods:\n    onResize: ->\n      return unless @$refs.viewport\n      @viewWidth = @$refs.viewport.clientWidth\n      @viewHeight = @$refs.viewport.clientHeight\n      @displayedPages = if @viewWidth > @viewHeight then 2 else 1\n      @currentPage &= ~1 if @displayedPages == 2\n      @currentPage++ if @displayedPages == 1 and not @pageUrl(@leftPage)\n      @minX = Infinity\n      @maxX = -Infinity\n\n    pageUrl: (page, hiRes = false) ->\n      if hiRes and @zoom > 1 and not @zooming\n        url = @pagesHiRes[page]\n        return url if url\n      @pages[page] or null\n\n    flipLeft: ->\n      return unless @canFlipLeft\n      @flipStart 'left', true\n\n    flipRight: ->\n      return unless @canFlipRight\n      @flipStart 'right', true\n\n    makePolygonArray: (face) ->\n      return [] unless @flip.direction\n\n      progress = @flip.progress\n      direction = @flip.direction\n\n      if @displayedPages == 1 and direction == 'left'\n        progress = 1 - progress\n        direction = 'right'\n\n      image = if face == 'front' then @flip.frontImage else @flip.backImage\n      bgImg = image && \"url('#{image}')\"\n\n      polygonWidth = @pageWidth / @nPolygons\n\n      gx = @xMargin\n      originRight = false\n      if @displayedPages == 1\n        if face == 'back'\n          originRight = true\n          gx = @xMargin - @pageWidth\n      else\n        if direction == 'left'\n          if face == 'back'\n            gx = @viewWidth / 2\n          else\n            originRight = true\n        else\n          if face == 'front'\n            gx = @viewWidth / 2\n          else\n            originRight = true\n\n      pageTransform = new Matrix\n      pageTransform.translate gx, @yMargin\n\n      pageRotation = 0\n      if progress > 0.5\n        pageRotation = -(progress - 0.5) * 2 * 180\n      if direction == 'left'\n        pageRotation = -pageRotation\n      pageRotation += 180 if face == 'back'\n\n      if pageRotation\n        pageTransform.translate @pageWidth if originRight\n        pageTransform.rotateY pageRotation\n        pageTransform.translate -@pageWidth if originRight\n\n      if progress < 0.5\n        theta = progress * 2 * Math.PI\n      else\n        theta = (1 - (progress - 0.5) * 2) * Math.PI\n      if theta == 0\n        theta = 1e-9\n      radius = @pageWidth / theta\n\n      radian = 0\n      dRadian = theta / @nPolygons\n      rotate = dRadian / 2 / Math.PI * 180\n      dRotate = dRadian / Math.PI * 180\n\n      if originRight\n        rotate = -theta / Math.PI * 180 + dRotate / 2\n\n      if face == 'back'\n        rotate = -rotate\n        dRotate = -dRotate\n\n      @minX = Infinity\n      @maxX = -Infinity\n      for i in [0...@nPolygons]\n        bgPos = \"#{i / (@nPolygons - 1) * 100}% 0px\"\n\n        transform = new Matrix pageTransform\n        rad = if originRight then theta - radian else radian\n        x = Math.sin(rad) * radius\n        x = @pageWidth - x if originRight\n        z = (1 - Math.cos(rad)) * radius\n        z = -z if face == 'back'\n\n        transform.translate x\n        transform.translateZ z\n        transform.rotateY -rotate\n\n        # This approximates X without computing perspective.\n        # So use conservative value.\n        ax = transform.computeX()\n        @maxX = ax if ax > @maxX\n        ax += 2 * polygonWidth\n        @minX = ax if ax < @minX\n\n        lighting = @computeLighting(pageRotation - rotate, dRotate)\n\n        tfString = \"perspective(#{@perspective}) #{transform.toString()}\"\n        radian += dRadian\n        rotate += dRotate\n        [face+i, bgImg, lighting, bgPos, tfString, Math.abs(Math.round(z))]\n\n    computeLighting: (rot, dRotate) ->\n      gradients = []\n      lightingPoints = [-0.5, -0.25, 0, 0.25, 0.5]\n      if @ambient < 1\n        blackness = 1 - @ambient\n        diffuse = lightingPoints.map (d) =>\n          (1 - Math.cos((rot - dRotate * d) / 180 * Math.PI)) * blackness\n        gradients.push \"\"\"\n          linear-gradient(to right,\n            rgba(0, 0, 0, #{diffuse[0]}),\n            rgba(0, 0, 0, #{diffuse[1]}) 25%,\n            rgba(0, 0, 0, #{diffuse[2]}) 50%,\n            rgba(0, 0, 0, #{diffuse[3]}) 75%,\n            rgba(0, 0, 0, #{diffuse[4]}))\n          \"\"\"\n\n      if @gloss > 0 and not IE\n        DEG = 30\n        POW = 200\n        specular = lightingPoints.map (d) =>\n          Math.max(\n            Math.cos((rot + DEG - dRotate * d) / 180 * Math.PI) ** POW,\n            Math.cos((rot - DEG - dRotate * d) / 180 * Math.PI) ** POW\n          )\n        gradients.push \"\"\"\n          linear-gradient(to right,\n            rgba(255, 255, 255, #{specular[0] * @gloss}),\n            rgba(255, 255, 255, #{specular[1] * @gloss}) 25%,\n            rgba(255, 255, 255, #{specular[2] * @gloss}) 50%,\n            rgba(255, 255, 255, #{specular[3] * @gloss}) 75%,\n            rgba(255, 255, 255, #{specular[4] * @gloss}))\n          \"\"\"\n      gradients.join(',')\n\n    flipStart: (direction, auto) ->\n      if direction == 'left'\n        if @displayedPages == 1\n          @flip.frontImage = @pageUrl(@currentPage - 1)\n          @flip.backImage = null\n        else\n          @flip.frontImage = @pageUrl(@leftPage)\n          @flip.backImage = @pageUrl(@currentPage - @displayedPages + 1)\n      else\n        if @displayedPages == 1\n          @flip.frontImage = @pageUrl(@currentPage)\n          @flip.backImage = null\n        else\n          @flip.frontImage = @pageUrl(@rightPage)\n          @flip.backImage = @pageUrl(@currentPage + @displayedPages)\n\n      @flip.direction = direction\n      @flip.progress = 0\n      requestAnimationFrame => requestAnimationFrame =>\n        if @flip.direction == 'left'\n          if @displayedPages == 2\n            @leftPage = @currentPage - @displayedPages\n        else\n          if @displayedPages == 1\n            @leftPage = @currentPage + @displayedPages\n          else\n            @rightPage = @currentPage + 1 + @displayedPages\n        @flipAuto(true) if auto\n\n    flipAuto: (ease) ->\n      t0 = Date.now()\n      duration = @flipDuration * (1 - @flip.progress)\n      startRatio = @flip.progress\n      @flip.auto = true\n      animate = => requestAnimationFrame =>\n        t = Date.now() - t0\n        ratio = startRatio + t / duration\n        ratio = 1 if ratio > 1\n        @flip.progress = if ease then easeInOut ratio else ratio\n        if ratio < 1\n          animate()\n        else\n          if @flip.direction == 'left'\n            @currentPage -= @displayedPages\n          else\n            @currentPage += @displayedPages\n          if @displayedPages == 1 and @flip.direction == 'right'\n            @flip.direction = null\n          else\n            @onImageLoad 1, => @flip.direction = null\n          @flip.auto = false\n      animate()\n\n    flipRevert: ->\n      t0 = Date.now()\n      duration = @flipDuration * @flip.progress\n      startRatio = @flip.progress\n      @flip.auto = true\n      animate = => requestAnimationFrame =>\n        t = Date.now() - t0\n        ratio = startRatio - startRatio * t / duration\n        ratio = 0 if ratio < 0\n        @flip.progress = ratio\n        if ratio > 0\n          animate()\n        else\n          @leftPage = @currentPage\n          @rightPage = @currentPage + 1\n          if @displayedPages == 1 and @flip.direction == 'left'\n            @flip.direction = null\n          else\n            @onImageLoad 1, => @flip.direction = null\n          @flip.auto = false\n      animate()\n\n    onImageLoad: (trigger, cb) ->\n      @nImageLoad = 0\n      @nImageLoadTrigger = trigger\n      @imageLoadCallback = cb\n\n    didLoadImage: (ev) ->\n      if @imageWidth == null\n        @imageWidth = (ev.target or ev.path[0]).naturalWidth\n        @imageHeight = (ev.target or ev.path[0]).naturalHeight\n      return unless @imageLoadCallback\n      if ++@nImageLoad >= @nImageLoadTrigger\n        @imageLoadCallback()\n        @imageLoadCallback = null\n\n    zoomIn: ->\n      return unless @canZoomIn\n      @zoomIndex += 1\n      @zoomTo @zooms[@zoomIndex]\n\n    zoomOut: ->\n      return unless @canZoomOut\n      @zoomIndex -= 1\n      @zoomTo @zooms[@zoomIndex]\n\n    zoomTo: (target) ->\n      start = @zoom\n      end = target\n\n      startX = @$refs.viewport.scrollLeft\n      startY = @$refs.viewport.scrollTop\n      fixedX = @$refs.viewport.clientWidth / 2\n      fixedY = @$refs.viewport.clientHeight / 2\n      containerFixedX = fixedX + startX\n      containerFixedY = fixedY + startY\n      endX = containerFixedX / start * end - fixedX\n      endY = containerFixedY / start * end - fixedY\n\n      t0 = Date.now()\n      @zooming = true\n      doZoom = => requestAnimationFrame =>\n        t = Date.now() - t0\n        ratio = t / @zoomDuration\n        ratio = 1 if ratio > 1\n        ratio = easeInOut(ratio)\n        @zoom = start + (end - start) * ratio\n        @$refs.viewport.scrollLeft = startX + (endX - startX) * ratio\n        @$refs.viewport.scrollTop = startY + (endY - startY) * ratio\n        if t < @zoomDuration\n          doZoom()\n        else\n          @zooming = false\n          @zoom = target\n\n          # XXX Hack to get Chrome scroll\n          if @containerWidth == '100%'\n            @containerWidth = '99.999%'\n          else\n            @containerWidth = '100%'\n      doZoom()\n\n    swipeStart: (touch) ->\n      @touchStartX = touch.pageX\n      @touchStartY = touch.pageY\n\n    swipeMove: (touch) ->\n      return if @zoom > 1\n      return unless @touchStartX?\n      x = touch.pageX - @touchStartX\n      y = touch.pageY - @touchStartY\n      return if Math.abs(y) > Math.abs(x)\n      if x > 0\n        if @flip.direction == null and @canFlipLeft and x >= 5\n          @flipStart 'left', false\n        if @flip.direction == 'left'\n          @flip.progress = x / @pageWidth\n          @flip.progress = 1 if @flip.progress > 1\n      else\n        if @flip.direction == null && @canFlipRight and x <= -5\n          @flipStart 'right', false\n        if @flip.direction == 'right'\n          @flip.progress = -x / @pageWidth\n          @flip.progress = 1 if @flip.progress > 1\n      true\n\n    swipeEnd: (touch) ->\n      if @flip.direction != null && !@flip.auto\n        if @flip.progress > 1/4\n          @flipAuto(false)\n        else\n          @flipRevert()\n      @touchStartX = null\n\n    onTouchStart: (ev) ->\n      @hasTouchEvents = true\n      @swipeStart ev.changedTouches[0]\n    onTouchMove: (ev) ->\n      if @swipeMove ev.changedTouches[0]\n        ev.preventDefault()\n    onTouchEnd: (ev) -> @swipeEnd ev.changedTouches[0]\n\n    onPointerDown: (ev) ->\n      @hasPointerEvents = true\n      unless @hasTouchEvents\n        @swipeStart ev\n        try\n          ev.target.setPointerCapture ev.pointerId\n        catch\n\n    onPointerMove: (ev) -> @swipeMove ev unless @hasTouchEvents\n\n    onPointerUp: (ev) ->\n      unless @hasTouchEvents\n        @swipeEnd ev\n        try\n          ev.target.releasePointerCapture ev.pointerId\n        catch\n\n    onMouseDown: (ev) ->\n      @swipeStart ev unless @hasTouchEvents or @hasPointerEvents\n    onMouseMove: (ev) ->\n      @swipeMove ev unless @hasTouchEvents or @hasPointerEvents\n    onMouseUp: (ev) ->\n      @swipeEnd ev unless @hasTouchEvents or @hasPointerEvents\n\n    preloadImages: ->\n      if Object.keys(@preloadedImages).length >= 10\n        @preloadedImages = {}\n      for i in [@currentPage - 3 .. @currentPage + 3]\n        url = @pageUrl i\n        if url\n          unless @preloadedImages[url]\n            img = new Image()\n            img.src = url\n            @preloadedImages[url] = img\n\n  watch:\n    currentPage: ->\n      @leftPage = @currentPage\n      @rightPage = @currentPage + 1\n      @preloadImages()\n\n    centerOffset: ->\n      return if @animatingCenter\n      animate = => requestAnimationFrame =>\n        rate = 0.1\n        diff = @centerOffset - @currentCenterOffset\n        if Math.abs(diff) < 0.5\n          @currentCenterOffset = @centerOffset\n          @animatingCenter = false\n        else\n          @currentCenterOffset += diff * rate\n          animate()\n      @animatingCenter = true\n      animate()\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'has-mouse': _vm.hasMouse },attrs:{\"id\":\"app\"},on:{\"touchstart\":function($event){_vm.hasMouse = false}}},[_c('Ribbon',{attrs:{\"text\":\"Fork me on GitHub\",\"url\":\"https://github.com/ts1/flipbook-vue\"}}),_c('Flipbook',{staticClass:\"flipbook\",attrs:{\"pages\":_vm.pages,\"pagesHiRes\":_vm.pagesHiRes},scopedSlots:_vm._u([{key:\"default\",fn:function(flipbook){return [_c('div',{staticClass:\"action-bar\"},[_c('left-icon',{staticClass:\"btn left\",class:{ disabled: !flipbook.canFlipLeft },on:{\"click\":flipbook.flipLeft}}),_c('plus-icon',{staticClass:\"btn plus\",class:{ disabled: !flipbook.canZoomIn },on:{\"click\":flipbook.zoomIn}}),_c('minus-icon',{staticClass:\"btn minus\",class:{ disabled: !flipbook.canZoomOut },on:{\"click\":flipbook.zoomOut}}),_c('right-icon',{staticClass:\"btn right\",class:{ disabled: !flipbook.canFlipRight },on:{\"click\":flipbook.flipRight}})],1)]}}])}),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"credit\"},[_vm._v(\"\\n    Photos from\\n    \"),_c('a',{attrs:{\"href\":\"https://unsplash.com/\",\"target\":\"_blank\"}},[_vm._v(\"Unsplash\")]),_vm._v(\".\\n  \")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"touchstart\":_vm.onTouchStart,\"touchmove\":_vm.onTouchMove,\"touchend\":_vm.onTouchEnd,\"touchcancel\":_vm.onTouchEnd,\"mousedown\":_vm.onMouseDown,\"mousemove\":_vm.onMouseMove,\"mouseup\":_vm.onMouseUp,\"pointerdown\":_vm.onPointerDown,\"pointermove\":_vm.onPointerMove,\"pointerup\":_vm.onPointerUp,\"pointercancel\":_vm.onPointerUp}},[_vm._t(\"default\",null,null,{\n    canFlipLeft: _vm.canFlipLeft,\n    canFlipRight: _vm.canFlipRight,\n    canZoomIn: _vm.canZoomIn,\n    canZoomOut: _vm.canZoomOut,\n    flipLeft: _vm.flipLeft,\n    flipRight: _vm.flipRight,\n    zoomIn: _vm.zoomIn,\n    zoomOut: _vm.zoomOut\n  }),_c('div',{ref:\"viewport\",staticClass:\"viewport\",class:{ zoom: _vm.zooming || _vm.zoom > 1 }},[_c('div',{staticClass:\"container\",style:({\n        transform: (\"scale(\" + _vm.zoom + \")\"),\n        width: _vm.containerWidth\n      })},[_c('div',{staticClass:\"centering-box\",style:({ transform: (\"translateX(\" + _vm.centerOffsetSmoothed + \"px)\") })},[_c('div',{staticClass:\"bounding-box\",style:({\n            left: _vm.boundingLeft + 'px',\n            top: _vm.yMargin + 'px',\n            width: _vm.boundingRight - _vm.boundingLeft + 'px',\n            height: _vm.pageHeight + 'px'\n          })}),(_vm.pageUrl(_vm.leftPage, true))?_c('img',{staticClass:\"page fixed\",style:({\n            width: _vm.pageWidth + 'px',\n            height: _vm.pageHeight + 'px',\n            left: _vm.xMargin + 'px',\n            top: _vm.yMargin + 'px'\n          }),attrs:{\"src\":_vm.pageUrl(_vm.leftPage, true)},on:{\"load\":function($event){return _vm.didLoadImage($event)}}}):_vm._e(),(_vm.displayedPages === 2 && _vm.pageUrl(_vm.rightPage, true))?_c('img',{staticClass:\"page fixed\",style:({\n            width: _vm.pageWidth + 'px',\n            height: _vm.pageHeight + 'px',\n            left: _vm.viewWidth / 2 + 'px',\n            top: _vm.yMargin + 'px'\n          }),attrs:{\"src\":_vm.pageUrl(_vm.rightPage, true)},on:{\"load\":function($event){return _vm.didLoadImage($event)}}}):_vm._e(),_vm._l((_vm.polygonArray),function(ref){\n          var key = ref[0];\n          var bgImage = ref[1];\n          var lighting = ref[2];\n          var bgPos = ref[3];\n          var transform = ref[4];\n          var z = ref[5];\nreturn _c('div',{key:key,staticClass:\"polygon\",class:{ blank: !bgImage },style:({\n            backgroundImage: bgImage,\n            backgroundSize: _vm.polygonBgSize,\n            backgroundPosition: bgPos,\n            width: _vm.polygonWidth,\n            height: _vm.polygonHeight,\n            transform: transform,\n            zIndex: z\n          })},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(lighting.length),expression:\"lighting.length\"}],staticClass:\"lighting\",style:({ backgroundImage: lighting })})])})],2),_c('div',{staticClass:\"guard\"})])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { identity, multiply, translate, translateZ, rotateY } from 'rematrix'\n\nexport default class Matrix\n  constructor: (arg) ->\n    if arg\n      if Array.isArray(arg)\n        @m = arg\n      else\n        @m = [arg.m...]\n    else\n      @m = identity()\n\n  multiply: (m) ->\n    m = m.m  unless Array.isArray m\n    @m = multiply @m, m\n\n  computeX: -> @m[12]\n\n  translate: (x, y) -> @multiply translate x, y\n  translateZ: (z) -> @multiply translateZ z\n  rotateY: (deg) -> @multiply rotateY deg\n  toString: -> \"matrix3d(#{@m.toString()})\"\n","import mod from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/coffee-loader/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=script&lang=coffee&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/coffee-loader/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=script&lang=coffee&\"","import { render, staticRenderFns } from \"./Flipbook.vue?vue&type=template&id=e4158224&scoped=true&\"\nimport script from \"./Flipbook.vue?vue&type=script&lang=coffee&\"\nexport * from \"./Flipbook.vue?vue&type=script&lang=coffee&\"\nimport style0 from \"./Flipbook.vue?vue&type=style&index=0&id=e4158224&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4158224\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'vue-material-design-icons/styles.css'\nimport Ribbon from 'vue-ribbon'\nimport LeftIcon from 'vue-material-design-icons/ChevronLeftCircle'\nimport RightIcon from 'vue-material-design-icons/ChevronRightCircle'\nimport PlusIcon from 'vue-material-design-icons/PlusCircle'\nimport MinusIcon from 'vue-material-design-icons/MinusCircle'\nimport Flipbook from './Flipbook'\n\nexport default\n  name: 'app'\n  components: { Flipbook, LeftIcon, RightIcon, PlusIcon, MinusIcon, Ribbon }\n  data: ->\n    pages: [\n      null,\n      'images/1.jpg'\n      'images/2.jpg'\n      'images/3.jpg'\n      'images/4.jpg'\n      'images/5.jpg'\n      'images/6.jpg'\n    ],\n    pagesHiRes: [\n      null,\n      'images-large/1.jpg'\n      'images-large/2.jpg'\n      'images-large/3.jpg'\n      'images-large/4.jpg'\n      'images-large/5.jpg'\n      'images-large/6.jpg'\n    ],\n    hasMouse: true\n","import mod from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/coffee-loader/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=coffee&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/coffee-loader/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=coffee&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=cc17d452&\"\nimport script from \"./App.vue?vue&type=script&lang=coffee&\"\nexport * from \"./App.vue?vue&type=script&lang=coffee&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue\n  render: (h) -> h(App)\n.$mount('#app')\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=style&index=0&id=e4158224&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5467a4aa\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"body,html{margin:0;padding:0}#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;height:100vh;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;background-color:#333;overflow:hidden}#app,a{color:#ccc}.flipbook{position:relative;width:90vw;height:calc(100vh - 90px);margin-top:50px}.flipbook .bounding-box{box-shadow:0 0 20px #000}.action-bar{position:absolute;top:-40px;width:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.action-bar .btn{font-size:30px;color:#999}.action-bar .btn:not(:first-child){margin-left:10px}.has-mouse .action-bar .btn:hover{color:#ccc;-webkit-filter:drop-shadow(1px 1px 5px #000);filter:drop-shadow(1px 1px 5px #000);cursor:pointer}.action-bar .btn:active{-webkit-filter:none!important;filter:none!important}.action-bar .btn.disabled{color:#666;pointer-events:none}.credit{font-size:12px;line-height:20px;margin:10px}\", \"\"]);\n\n// exports\n","import mod from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=style&index=0&id=e4158224&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flipbook.vue?vue&type=style&index=0&id=e4158224&scoped=true&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1f50beb8\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".viewport[data-v-e4158224]{-webkit-overflow-scrolling:touch;width:100%;height:100%}.viewport.zoom[data-v-e4158224]{overflow:scroll}.container[data-v-e4158224]{position:relative;width:100%;height:100%;-webkit-transform-origin:top left;transform-origin:top left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bounding-box[data-v-e4158224]{position:absolute}.page[data-v-e4158224],.polygon[data-v-e4158224]{position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden}.polygon[data-v-e4158224]{top:0;left:0;background-repeat:no-repeat;-webkit-transform-origin:center left;transform-origin:center left}.polygon.blank[data-v-e4158224]{background-color:#ddd}.guard[data-v-e4158224],.polygon .lighting[data-v-e4158224]{width:100%;height:100%}.guard[data-v-e4158224]{position:absolute;top:0;left:0}\", \"\"]);\n\n// exports\n"],"sourceRoot":""}